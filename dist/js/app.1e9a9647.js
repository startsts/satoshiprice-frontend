(function(t){function e(e){for(var r,i,c=e[0],s=e[1],u=e[2],f=0,p=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("85ec"),o=n.n(r);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Nav"),n("router-view"),n("InformPopup"),n("ToolTip")],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{attrs:{id:"header"}},[t._m(0),t._m(1),t.country?n("div",{staticClass:"country"},[n("div",{staticClass:"sel",on:{click:t.toggleCountryList}},[n("span",{staticClass:"flag flag-",class:"flag-"+t.country.flag_code.toLowerCase()}),t._v(" "+t._s(t.country.name)+" "),n("span",[n("i",{staticClass:"fa fa-map-marked-alt"}),t._v(" "+t._s(t.country.locality))])]),t.show_country_list?n("div",{staticClass:"list"},t._l(t.countries,(function(e){return n("router-link",{key:e.id,attrs:{to:{name:"Country",params:{country_id:e.id}}},nativeOn:{click:function(e){t.show_country_list=!1}}},[n("span",{staticClass:"flag flag-",class:"flag-"+e.flag_code.toLowerCase()}),t._v(" "+t._s(e.name))])})),1):t._e()]):t._e()])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"logo",attrs:{href:"/"}},[t._v("Satoshi"),n("span",[t._v("Price")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slogan"},[n("u",[t._v("The measure of all things")])])}],s=(n("d3b7"),n("96cf"),n("1da1")),u={name:"Nav",data:function(){return{show_country_list:!1,countries:[]}},created:function(){this.loadCountries()},computed:{country:function(){return this.$store.getters.getCountry}},methods:{toggleCountryList:function(){this.show_country_list=!this.show_country_list},loadCountries:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.$store.getters.getServerUrl,"/countries/")).then((function(t){return t.json()})).then((function(t){return t}));case 2:t.countries=e.sent;case 3:case"end":return e.stop()}}),e)})))()}}},l=u,f=(n("ac57"),n("2877")),p=Object(f["a"])(l,i,c,!1,null,"546bdffa",null),d=p.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("main",[n("div",{staticClass:"showinfo"},[t.show_calc_mechanism?t._e():n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.toggleShowCalcMechanism(e)}}},[n("i",{staticClass:"fa fa-info-circle"}),t._v(" Show calculation method")]),n("transition",{attrs:{name:"bounce"}},[t.show_calc_mechanism?n("div",{staticClass:"calc_mechanism"},[n("div",[t._v("BTC price used: "),n("span",[t._v(t._s(t._f("btc_format")(t.country.btc_global_price,2,4)))]),t._v(" USD -> "),n("span",[t._v(t._s(t._f("btc_format")(t.country.btc_price,2)))]),t._v(" "+t._s(t.country.fiat_code)+" "),n("a",{attrs:{target:"_blank",href:t.country.btc_price_source_link}},[n("i",{staticClass:"fa fa-external-link-alt"})]),t._v(" "),t.country.btc_price_fee?n("i",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"fa fa-asterisk info infot",attrs:{rel:"Added "+t.country.btc_price_fee+"% trade fee"}}):t._e()]),n("div",{staticClass:"source"},[n("i",{staticClass:"fa fa-database"}),t._v(" Goods price source: "),n("a",{attrs:{target:"_blank",href:t.country.price_source_link}},[t._v(t._s(t.country.price_source))])]),n("div",[t._v(" Local BTC price actualization: "),n("span",{class:"Never"==t.country.btc_price_updated_ago||t.country.btc_price_updated_ago>30?"red":"green"},[t._v(t._s(t.country.btc_price_updated_ago)+" minutes ago")])])]):t._e()])],1),n("div",{staticClass:"goodsdata"},[n("div",{staticClass:"toggle_cur"},[n("a",{class:{toggled:t.fiat_price},attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.toggleFiat(e)}}},[n("i",{staticClass:"fa fa-btc"}),t._v(" / "),n("i",{staticClass:"fa fa-dollar-sign"})])]),n("table",{staticClass:"allgoods"},[t._m(0),n("OneCat",{attrs:{goods:t.nacional,country:t.country}}),t._m(1),n("OneCat",{attrs:{goods:t.global,country:t.country}})],1)])])])},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{staticClass:"header",attrs:{colspan:"5"}},[t._v("Nacional mass consumption goods")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{staticClass:"header",attrs:{colspan:"5"}},[t._v("World-wide mass consumption goods")])])}],h=(n("99af"),n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tbody",t._l(t.goods,(function(e,r){return n("OneGood",{key:e.id,attrs:{el:e,index:r,country:t.country}})})),1)}),v=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",{staticClass:"img"},[n("img",{attrs:{src:t.el.get_img}})]),n("td",[t._v(t._s(t.el.name))]),n("td",[n("div",[t.fiat_price?t._e():n("span",{staticClass:"price"},[t._v(t._s(t.el.satoshi)+" satoshi")]),t.fiat_price?n("span",{staticClass:"price2"},[t._v(t._s(t._f("btc_format")(t.el.price,2))+" "+t._s(t.country.fiat_code))]):t._e()]),"Never"==t.el.fiat_price_updated_days_ago||t.el.fiat_price_updated_days_ago>2?n("span",{staticClass:"red"},[t._v("Updated "+t._s(t.el.fiat_price_updated_days_ago)+" days ago")]):t._e()]),n("td",[t.show_calc?n("div",{staticClass:"calc"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],attrs:{autocomplete:"off",type:"text",value:"1"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),t._v(" BTC = "),n("span",[t._v(t._s(t.calced))]),t._v(" "),n("img",{attrs:{src:t.el.get_img}})]):t._e()]),n("td",{staticClass:"actions"},[n("div",[n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.toggleCalc()}}},[n("i",{staticClass:"fa fa-calculator"})]),t._v(" "),n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.inform()}}},[n("i",{staticClass:"fa fa-exclamation-triangle"})])])])])},y=[],b={name:"OneGood",props:["el","country"],data:function(){return{show_calc:!1,quantity:1}},computed:{fiat_price:function(){return this.$parent.fiat_price},calced:function(){return this.quantity*this.el.for1btc}},methods:{toggleCalc:function(){this.show_calc=!this.show_calc},inform:function(){this.$store.commit("popupShow",this.el)}}},C=b,w=Object(f["a"])(C,g,y,!1,null,"4d26ca92",null),x=w.exports,O={name:"OneCat",props:["goods","country"],components:{OneGood:x},data:function(){return{show_calc:0}},computed:{fiat_price:function(){return this.$parent.fiat_price}}},$=O,k=Object(f["a"])($,h,v,!1,null,null,null),j=k.exports,S={name:"Country",components:{OneCat:j},props:["country_id"],data:function(){return{goods:[],show_calc_mechanism:!1,fiat_price:!1,country:null}},created:function(){this.loadCountry()},watch:{country_id:function(){this.loadCountry()},country:function(){this.$store.commit("setCountry",this.country),this.loadGoods()}},computed:{nacional:function(){return this.goods.filter((function(t){return!t.mass}))},global:function(){return this.goods.filter((function(t){return t.mass}))}},methods:{loadCountry:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.$store.getters.getServerUrl,"/country/").concat(t.country_id,"/")).then((function(t){return t.json()})).then((function(t){return t}));case 2:t.country=e.sent;case 3:case"end":return e.stop()}}),e)})))()},loadGoods:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.$store.getters.getServerUrl,"/goods/").concat(t.country_id)).then((function(t){return t.json()})).then((function(t){return t}));case 2:t.goods=e.sent;case 3:case"end":return e.stop()}}),e)})))()},toggleShowCalcMechanism:function(){this.show_calc_mechanism=!this.show_calc_mechanism},toggleFiat:function(){this.fiat_price=!this.fiat_price}}},P=S,T=Object(f["a"])(P,_,m,!1,null,null,null),E=T.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item?n("div",{staticClass:"popup"},[n("div",{staticClass:"content"},[n("div",[t._v("Found wrong price? Inform us about the problem")]),t.was_sent?n("div",{staticClass:"green"},[t._v("Your inform was sent, thank you!")]):t._e(),t.was_sent?t._e():n("div",[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.item.name,expression:"item.name"}],attrs:{placeholder:"item",required:"required"},domProps:{value:t.item.name},on:{input:function(e){e.target.composing||t.$set(t.item,"name",e.target.value)}}})]),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{required:"required",placeholder:"Describe the problem"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),n("div",[t._v("Please provide proof/link to right price if you can")]),n("div",[n("button",{staticClass:"redb",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.sendInform(e)}}},[t._v("Send")])])])]),n("a",{staticClass:"close",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.$store.commit("popupShow",null)}}},[n("i",{staticClass:"fa fa-close"})])]):t._e()},N=[],q=(n("b0c0"),{name:"InformPopup",data:function(){return{text:null,was_sent:!1}},computed:{item:function(){return this.$store.getters.getPopupItem}},methods:{sendInform:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n={name:t.item.name,text:t.text,good:t.item.id},fetch("".concat(t.$store.getters.getServerUrl,"/inform/"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(e){t.was_sent=!0}));case 2:case"end":return e.stop()}}),e)})))()}}}),R=q,U=(n("ab0f"),Object(f["a"])(R,I,N,!1,null,"a6ad72fa",null)),D=U.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.text?n("div",{staticClass:"tooltips",style:{left:t.left+"px",top:t.top+"px"}},[n("div",{staticClass:"content"},[t._v(" "+t._s(t.text)+" ")]),n("div",{staticClass:"arrow"})]):t._e()},M=[],G={name:"ToolTip",data:function(){return{}},computed:{text:function(){return this.$store.getters.getTooltip.text},left:function(){return this.$store.getters.getTooltip.left},top:function(){return this.$store.getters.getTooltip.top}}},B=G,F=(n("77f0"),Object(f["a"])(B,L,M,!1,null,"70206d9c",null)),H=F.exports,J={components:{Nav:d,Country:E,InformPopup:D,ToolTip:H},methods:{}},A=J,z=(n("034f"),Object(f["a"])(A,o,a,!1,null,null,null)),W=z.exports,Y=n("8c4f"),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Country",{attrs:{country_id:t.country_id}})],1)},Q=[],V={components:{Country:E},name:"Home",data:function(){return{country_id:null}},created:function(){this.country_id=localStorage.getItem("country"),this.country_id||(this.country_id=0)}},X=V,Z=Object(f["a"])(X,K,Q,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Country",{attrs:{country_id:t.country_id}})],1)},nt=[],rt={components:{Country:E},name:"Home",props:["country_id"],data:function(){return{}},created:function(){localStorage.setItem("country",this.country_id)},watch:{$route:function(){localStorage.setItem("country",this.country_id)}}},ot=rt,at=Object(f["a"])(ot,et,nt,!1,null,null,null),it=at.exports;r["a"].use(Y["a"]);var ct=[{path:"/",name:"Home",component:tt},{path:"/country/:country_id",name:"Country",component:it,props:!0}],st=new Y["a"]({mode:"history",routes:ct}),ut=st,lt=n("2f62");r["a"].use(lt["a"]);var ft=new lt["a"].Store({state:{backendUrl:"https://api.satoshiprice.online/api",tooltip:{text:"",left:0,top:0},inform_popup_item:null,country:null},modeules:{},getters:{getServerUrl:function(t){return t.backendUrl},getTooltip:function(t){return t.tooltip},getPopupItem:function(t){return t.inform_popup_item},getCountry:function(t){return t.country}},mutations:{tooltip:function(t,e){t.tooltip=e?{text:e.target.getAttribute("rel"),left:e.target.getBoundingClientRect().left+37,top:e.target.getBoundingClientRect().top-4}:{text:"",left:0,top:0}},popupShow:function(t,e){t.inform_popup_item=e},setCountry:function(t,e){t.country=e}}}),pt=ft,dt=(n("ac1f"),n("25f0"),n("1276"),{btc_format:function(t,e,n){e||(e=8),n||(n=8),n=Math.pow(10,n),t/=n;var r=t.toString().split(".");if(e<=0)return r[0];var o=r[1]||"";if(o.length>e)return"".concat(r[0],".").concat(o.substr(0,e));while(o.length<e)o+="0";return"".concat(r[0],".").concat(o)}});r["a"].config.productionTip=!1,r["a"].mixin({filters:dt}),r["a"].directive("tooltip",{bind:function(t){t.addEventListener("mouseover",(function(t){pt.commit("tooltip",t)})),t.addEventListener("mouseout",(function(t){pt.commit("tooltip",null)}))}}),new r["a"]({router:ut,store:pt,render:function(t){return t(W)}}).$mount("#app")},"77f0":function(t,e,n){"use strict";var r=n("bc9c"),o=n.n(r);o.a},"7a07":function(t,e,n){},"7a51":function(t,e,n){},"85ec":function(t,e,n){},ab0f:function(t,e,n){"use strict";var r=n("7a07"),o=n.n(r);o.a},ac57:function(t,e,n){"use strict";var r=n("7a51"),o=n.n(r);o.a},bc9c:function(t,e,n){}});
//# sourceMappingURL=app.1e9a9647.js.map